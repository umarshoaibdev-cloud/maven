pipeline
{
  agent any
  stages
  {
    stage('Download')
    {
      steps
      {
        script
        {
          try
          {
            git 'https://github.com/IntelliqDevops/maven.git'
          }
          catch(Exception e1)
          {
            echo 'Download failed'
            exit(1)
          }
        }
      }
    }
    stage('Build')
    {
      steps
      {
        scirpt
        {
          try
          {
            sh 'mvn package'
          }
          catch(Exception e2)
          {
            mail bcc: '', body: 'Jenkins unable to build the war file', cc: '', from: '', replyTo: '', subject: 'Build Failed', to: 'Dev.team@gmail.com'
            exit(1)
          }
        }
      }
    }
  }
}
